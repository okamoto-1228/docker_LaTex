% 
% robomec.sty (rsj2003e.sty)
% 
%   Modefied by Koh Hosoda 2001/06/13 for pLaTeX2e
%     ○ jarticle.styの読込みを元のファイルにする(.clsへの対応のため)
%     ○ \def\documentに関する定義を削除(もともと，この定義はlatex.tex内でな
%        されているため，pLaTeX2eではエラーとなる)
%     ○ latex209と，見てくれが似るように，title回りの寸法調整
%
%   Revision 1.2  1995/08/18  08:25:44  oshiro
%	14/08/95 OSHIRO Naoki
%
%   Modefied by Tetsushi Kamegawa 2004/3/3 
%       ロボット学会用のスタイルファイルをもとに
%	ロボメカのを作ろう！
%
\typeout{*** Document Style 'Robomec2004 for pLaTeX2e' (2004/03/03) ***}

\twocolumn
\sloppy
\flushbottom
%\setlength{\topmargin}{-10.4mm}
\setlength{\topmargin}{-7.0mm}
\setlength{\headheight}{0mm}
\setlength{\headsep}{0mm}
%\setlength{\oddsidemargin}{-10.4mm}
%\setlength{\evensidemargin}{-10.4mm}
\setlength{\oddsidemargin}{-10.8mm}
\setlength{\evensidemargin}{-10.8mm}
\setlength{\textwidth}{180mm}
\setlength{\textheight}{257mm}
\setlength{\columnsep}{10mm}
%\setlength{\abovecaptionskip}{0pt}
%\setlength{\belowcaptionskip}{-3pt}
%\renewcommand\baselinestretch{0.9}
%\normalsize\relax

\def\title#1{\gdef\@title{#1}}
\def\engtitle#1{\gdef\@engtitle{#1}}
\def\author#1{\gdef\@author{#1}}
%\def\engauthor#1{\gdef\@engauthor{#1}}
\def\keyword#1{\gdef\@keyword{#1}}
\def\and{%%   % \begin{tabular} 
  \end{tabular}%
  \hskip 1zw plus .01fil%
  \begin{tabular}[t]{c}%% \end{tabular}
  }
\def\@maketitle{\newpage%
  \null%
  \begin{center} %
%   \vspace*{5mm} % added for pLaTeX
   \vspace*{0mm} % added for pLaTeX
    {\LARGE\bf \@title \par } %
    \vskip .6em
    {\Large\bf \@engtitle}
    \vskip .6em %
    {\large \@author }%
    %{\large \@engauthor}
    \vskip .3em
  \end{center}%
  \@ifundefined{@abstract}{}{%
    \small%
    \begin{center}%
      \begin{minipage}{.9\textwidth}%
   \vspace*{0.0mm} % added for pLaTeX
      {\bf Abstract: }\@abstract%
      \end{minipage}%
    \end{center}%
    \gdef\@abstract{}}%
%   \vspace*{0.0mm} % added for pLaTeX
   \vspace*{-4.0mm} % added for pLaTeX
  \@ifundefined{@keyword}{}{%
    \small%
    \begin{center}
      \begin{minipage}{.9\textwidth}%
      {\bf Key Words: }\@keyword%
      \end{minipage}
    \end{center}
    \gdef\@keyword{}}%
%   \vspace*{5.0mm} % added for pLaTeX
   \vspace*{0.0mm} % added for pLaTeX
%    \hbox{\kern .3\textwidth\vbox{\hrule width .4\textwidth}}%
    \vskip 1zh}%
\long\def\abstract#1{\long\gdef\@abstract{#1}}%

\def\thesection{\arabic{section}.}
\def\thesubsection{\arabic{section}$\cdot$\arabic{subsection}}

\def\@eqnnum{{\rm(\theequation)}} 
\def\eqnarray{%
  \stepcounter{equation}%
  \let\@currentlabel=\theequation
  \global\@eqnswtrue
  \global\@eqcnt\z@
  \tabskip\@centering
  \let\\=\@eqncr
  $$\halign to \displaywidth\bgroup\@eqnsel\hskip\@centering
  $\displaystyle\tabskip\z@{##}$&\global\@eqcnt\@ne
  \hfil$\displaystyle{{}##{}}$\hfil
  &\global\@eqcnt\tw@$\displaystyle\tabskip\z@{##}$\hfil
  \tabskip\@centering&\llap{##}\tabskip\z@\cr}

\def\thebibliography#1{% 参考文献出力命令
  \vskip 1zh plus .2ex minus .2ex 
  \noindent{\normalsize\bf 参考文献}\par\@mkboth{References}{References}
  \list{\arabic{enumi})}			% ラベルは 1), 2), ...
    {\settowidth\labelwidth{#1)}		% ラベルの幅は [引数]
     \leftmargin\labelwidth		% 左余白はラベル幅
     \parsep \z@ plus 1pt minus 1pt
     \itemsep \z@ plus 1pt minus 1pt
     \advance \leftmargin by \labelsep	% 左余白を \labelsep だけ増す
     \usecounter{enumi}}			% enumi カウンタで文献番号を数える
  \def\newblock{\hskip .11em plus .33em minus .07em}%
  					% \newblock は若干の空きをあける命令  
  \sloppy				% 段落は多少空きが不揃いでもよい
  \clubpenalty=4000 \widowpenalty=4000		% なるべく段落中の１行だけ別ページにならないように
  \sfcode`\.=1000\relax}				% 上の解説参照
\let\endthebibliography=\endlist		% 終わりは list の終わりと同じ
\def\@cite#1#2{$^{\hbox{\scriptsize{#1\if@tempswa , #2\fi})}}$}
%\def\@cite#1#2{{#1\if@tempswa , #2\fi})}

\def\section{\@startsection {section}{1}{\z@}{.8ex plus .5ex minus 
 .2ex}{.5ex plus .2ex}{\large\bf}}
\def\subsection{\@startsection{subsection}{2}{\z@}{.8ex plus .5ex minus 
 .2ex}{.5ex plus .2ex}{\normalsize\bf}}
\def\subsubsection{\@startsection{subsubsection}{3}{\z@}{.8ex plus 
.5ex minus .2ex}{.5ex plus .2ex}{\normalsize\bf}}
\def\paragraph{\@startsection
 {paragraph}{4}{\z@}{0.5ex plus .3ex minus .2ex}{-1em}{\normalsize\bf}}
\def\subparagraph{\@startsection
 {subparagraph}{4}{\parindent}{0.5ex plus .3ex minus 
 .2ex}{-1em}{\normalsize\bf}}

\def\labfig#1{\label{fig:#1}}
\def\labtab#1{\label{tab:#1}}
\def\labeq#1{\label{eq:#1}}
\def\reffig#1{{\bf Fig.}\ref{fig:#1}}
\def\reftab#1{{\bf Table }\ref{tab:#1}}
\def\refeq#1{{\bf eq.}(\ref{eq:#1})}

\def\fnum@figure{{\bf Fig.}\thefigure}
\def\fnum@table{{\bf Table\ }\thetable}

\long\def\@caption#1[#2]#3{\par\addcontentsline{\csname
  ext@#1\endcsname}{#1}{\protect\numberline{\csname 
  the#1\endcsname}{\ignorespaces #2}}\begingroup
    \@parboxrestore
%    \normalsize
    \small
    \@makecaption{\csname fnum@#1\endcsname}{\ignorespaces #3}\par
  \endgroup}

\long\def\@makecaption#1#2{% 図・表の見出しを作る命令
   \vskip 5\p@			% 10pt 下に進む 
   \setbox\@tempboxa\hbox{#1 #2}% 「図1 何々」の形の箱を作る
   \ifdim \wd\@tempboxa >\hsize % 箱が 1 行に入りきらないなら
     \begin{list}{#1}{
       \leftmargin 2zw \itemindent 0ex \labelsep 1ex%
       \labelwidth \leftmargin%
       \addtolength{\labelwidth}{-\itemindent}%
       \addtolength{\labelwidth}{-\labelsep}%
       \rightmargin=\leftmargini%
       \addtolength{\rightmargin}{-\itemindent}}%
       \item #2		% 通常の段組として組む（うそ）
     \end{list}\par%
   \else			% そうでなければ
       \hbox to\hsize{\hfil\box\@tempboxa\hfil}% 箱を中央揃えで出力  
   \fi}

\def\deg{${}^\circ$}
\def\atan2{\mbox{atan2}}
\def\arg{\mbox{arg}}

\def\eqnarray{%
  \stepcounter{equation}%
  \let\@currentlabel=\theequation
  \global\@eqnswtrue
  \global\@eqcnt\z@
  \tabskip\@centering
  \let\\=\@eqncr
  $$\halign to \displaywidth\bgroup\@eqnsel\hskip\@centering
  $\displaystyle\tabskip\z@{##}$&\global\@eqcnt\@ne
  \hfil$\displaystyle{{}##{}}$\hfil
  &\global\@eqcnt\tw@$\displaystyle\tabskip\z@{##}$\hfil
  \tabskip\@centering&\llap{##}\tabskip\z@\cr}

\newcounter{stepnumber}
\newenvironment{stepping}{\usecounter{stepnumber}}{}%
\def\step{%
  \addtocounter{stepnumber}{1}%
  \parindent=0pt %
  \par%
  {\bf Step \arabic{stepnumber}.}%
  \hspace{1em}}

\def\quotation{% \begin{quotation} で実行される命令
  \list{}{% \list は \begin{list} で実行される命令
    \listparindent=5ex		% 段落の頭下げ
    \itemindent=\listparindent	% 項目の頭下げも同じ
    \rightmargin\leftmargin	% 左右の空白を等しく
    \parsep 0pt plus 1pt}
  \item[]}
\let\endquotation=\endlist	% \end{quotation} で実行される命令

\def\quote{% \begin{quote} で実行される命令
  \list{}{\rightmargin\leftmargin}\item[]}
			% 段落の頭下げをしない点が quotation と異なる
\let\endquote=\endlist% \end{quote} で実行される命令

\newcount\@itemdepth \@itemdepth = 0
\def\itemize{%
  \ifnum %
    \@itemdepth >3 \@toodeep%
  \else %
    \advance\@itemdepth \@ne%
    \edef\@itemitem{labelitem\romannumeral\the\@itemdepth}%
    \list{\csname\@itemitem\endcsname}{%
      \def\makelabel##1{\hss\llap{##1}}%
      \topsep 3pt%
      \partopsep 0pt%
      \parsep 0pt%
      \itemsep 0pt}%
  \fi}
\let\enditemize =\endlist

\newcount\@enumdepth \@enumdepth = 0
\@definecounter{enumi}
\@definecounter{enumii}
\@definecounter{enumiii}
\@definecounter{enumiv}
\def\enumerate{%
  \ifnum %
    \@enumdepth >3 \@toodeep
  \else%
    \advance\@enumdepth \@ne %
    \edef\@enumctr{enum\romannumeral\the\@enumdepth}%
    \list{\csname label\@enumctr\endcsname}{%
      \usecounter{\@enumctr}%
      \def\makelabel##1{\hss\llap{##1}}
      \topsep 3pt%
      \partopsep 0pt%
      \parsep 0pt%
      \itemsep 0pt}%
  \fi}
\let\endenumerate =\endlist

% フロートの各設定
\setcounter{topnumber}{3}
\def\topfraction{.95}
\setcounter{bottomnumber}{2}
\def\bottomfraction{.95}
\setcounter{totalnumber}{4}
\def\textfraction{.05}
\def\floatpagefraction{.5}

